@tailwind base;
@tailwind components;
@tailwind utilities;

@import "@liveblocks/react-ui/styles.css";
@import "@liveblocks/react-lexical/styles.css"; 
@import "../styles/dark-theme.css";

/* ========================================== TAILWIND STYLES */

@layer base {
  :root {
    background: #ecf0f3;
    color: #2e2e2e;
    margin: 0;
  }

  .custom-scrollbar::-webkit-scrollbar {
    width: 4px;
    height: 4px;
    border-radius: 50px;
  }

  .custom-scrollbar::-webkit-scrollbar-track {
    background: #09090a;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb {
    background: #2e3d5b;
    border-radius: 50px;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: #7878a3;
  }
}

@layer utilities {

  @layer utilities {

    .gradient-home-bg {
      @apply bg-gradient-to-b from-slate-50 via-slate-100 to-slate-200;
    }
    .neu-out {
      box-shadow:
        8px 8px 16px rgba(0,0,0,0.12),
       -8px -8px 16px #ffffff;
    }
    
    .neu-in {
      box-shadow:
        inset 4px 4px 8px rgba(0,0,0,0.12),
        inset -4px -4px 8px #ffffff;
    }
    
    .neu-in-strong {
      box-shadow:
        inset 6px 6px 12px rgba(0,0,0,0.16),
        inset -6px -6px 12px #ffffff;
    }
  }

  .toolbar {
    @apply
      flex
      flex-wrap
      items-center
      gap-1
      rounded-2xl
      bg-[#ecf0f3]
      px-3
      py-2
      shadow-[6px_6px_12px_rgba(0,0,0,0.15),-6px_-6px_12px_#ffffff];
  }
  
  .toolbar-item:hover:not(:disabled) {
    @apply
      text-gray-800
      shadow-[2px_2px_4px_rgba(0,0,0,0.15),-2px_-2px_4px_#ffffff];
  }

  .toolbar-item.active,
  .toolbar-item[data-active] {
    background-color: #ecf0f3 !important;
    box-shadow:
      inset 3px 3px 6px rgba(0, 0, 0, 0.18),
      inset -3px -3px 6px #ffffff !important;
  }

  .toolbar-item:disabled {
    @apply
      opacity-40
      cursor-not-allowed
      shadow-none;
  }

  .toolbar-item.active .format,
  .toolbar-item[data-active] .format {
  filter: invert(15%);
  }

  .toolbar-item:hover {
    background-color: #ecf0f3 !important;
  }

  .toolbar-item:hover:not(:disabled) {
    box-shadow:
      inset 2px 2px 4px rgba(0, 0, 0, 0.15),
      inset -2px -2px 4px #ffffff !important;
  }

  .toolbar-item .format {
    filter: invert(18%);
    opacity: 0.85;
  }

  .toolbar-item:hover .format {
    filter: invert(12%);
    opacity: 1;
  }

  .toolbar-item.active .format,
  .toolbar-item[data-active] .format {
  filter: invert(38%) sepia(100%) saturate(450%)
    hue-rotate(195deg);
  opacity: 1;
  }

  .toolbar-item .format {
    transition: filter 0.15s ease, opacity 0.15s ease;
  }

  .neu-button {
    @apply
      rounded-xl
      bg-[#ecf0f3]
      text-gray-700
      px-4 py-2
      transition-all duration-200
      neu-out
      hover:neu-in
      active:neu-in-strong;
  }

  .neu-icon-btn {
    @apply
      size-10 rounded-xl
      bg-[#ecf0f3]
      text-gray-500
      flex items-center justify-center
      transition-all
      neu-out hover:neu-in active:neu-in-strong;
  }

  .header-neu {
    @apply min-h-[92px] px-4 flex items-center justify-between gap-4;
    background: #ecf0f3;
  }

  .title-text-neu {
    @apply text-lg font-semibold text-gray-800 select-none;
  }
  
  .title-input-neu {
    @apply h-9 px-3 rounded-lg bg-[#ecf0f3] text-gray-800
    shadow-[inset_4px_4px_8px_rgba(0,0,0,0.14),inset_-4px_-4px_8px_#ffffff]
    focus:outline-none;
  }

  .icon-btn-neu {
    @apply size-8 flex items-center justify-center rounded-lg
    bg-[#ecf0f3]
    shadow-[4px_4px_8px_rgba(0,0,0,0.14),-4px_-4px_8px_#ffffff]
    hover:shadow-[inset_4px_4px_8px_rgba(0,0,0,0.14),inset_-4px_-4px_8px_#ffffff]
    transition;
  }
  .view-only-neu {
    @apply text-xs px-2 py-1 rounded-md text-gray-600
    bg-[#ecf0f3]
    shadow-[inset_2px_2px_4px_rgba(0,0,0,0.12),inset_-2px_-2px_4px_#ffffff];
  }
  .neu-modal {
    @apply border-none rounded-2xl px-6 py-5;
    background: #ecf0f3;
    box-shadow:
      15px 15px 25px rgba(0,0,0,0.15),
      -15px -15px 25px #ffffff;
  }

  .neu-btn {
    @apply flex items-center justify-center rounded-lg
    text-gray-800 text-sm font-medium
    transition-all;
    background: #ecf0f3;
    box-shadow:
      6px 6px 12px rgba(0,0,0,0.15),
      -6px -6px 12px #ffffff;
  }
  
  .neu-btn:hover {
    box-shadow:
      inset 4px 4px 8px rgba(0,0,0,0.15),
      inset -4px -4px 8px #ffffff;
  }

  .neu-input {
    @apply bg-transparent border-none px-3 py-2 text-gray-800 min-w-60
    focus:outline-none;
  }
  
  .neu-inset {
    background: #ecf0f3;
    box-shadow:
      inset 4px 4px 8px rgba(0,0,0,0.15),
      inset -4px -4px 8px #ffffff;
  }
  .neu-select-trigger {
    @apply h-9 px-3 text-sm text-gray-700 border-none rounded-lg;
    background: #ecf0f3;
    box-shadow:
      5px 5px 10px rgba(0,0,0,0.15),
      -5px -5px 10px #ffffff;
  }
  
  .neu-select-trigger:hover {
    box-shadow:
      inset 4px 4px 8px rgba(0,0,0,0.15),
      inset -4px -4px 8px #ffffff;
  }

  .neu-select-content {
    @apply mt-2 rounded-xl border-none p-2;
    background: #ecf0f3;
    box-shadow:
      12px 12px 20px rgba(0,0,0,0.15),
      -12px -12px 20px #ffffff;
  }

  .neu-select-item {
    @apply cursor-pointer rounded-lg px-10 py-2 text-sm text-gray-700 transition-all;
  }
  
  .neu-select-item:hover {
    box-shadow:
      inset 4px 4px 8px rgba(0,0,0,0.15),
      inset -4px -4px 8px #ffffff;
  }

  .editor-container {
    width: 100%;
    display: flex;
    flex-direction: column;
    background-color: #ecf0f3;
    padding: 1rem;
  }
  
  .editor-inner {
    background-color: #ecf0f3;
    border-radius: 18px;
    padding: 1rem;
  
    /* vystouplý rám */
    box-shadow:
      -8px -8px 20px rgba(255,255,255,0.95),
       8px  8px 20px rgba(0,0,0,0.18);
  }

  .editor-input {
    width: 100%;
    height: 100%;
    padding: 1.25rem;
  
    border-radius: 14px;
    font-family: 'Poppins', sans-serif;
    font-size: 16px;
    color: rgb(70,70,70);
  
    background-color: #ecf0f3;
    outline: none;
  
    box-shadow:
      inset 3px 3px 6px rgba(0,0,0,0.12),
      inset -3px -3px 6px rgba(255,255,255,0.9);
  }
  
  .editor-input:focus {
    box-shadow:
      inset 2px 2px 5px rgba(0,0,0,0.15),
      inset -2px -2px 5px rgba(255,255,255,1);
  }

  .editor-placeholder {
    color: rgba(0,0,0,0.4);
    font-style: italic;
    padding: 1rem;
    pointer-events: none;
  }

  .toolbar-wrapper button {
    background-color: #ecf0f3;
    box-shadow: -3px -3px 6px #fff,
                3px 3px 5px rgba(0,0,0,0.1);
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.1s ease-in-out;
  }
  
  .toolbar-wrapper button:active {
    box-shadow: inset 3px 3px 5px rgba(0,0,0,0.1),
                inset -3px -3px 6px #fff;
  }
  
  .floating-composer, .floating-threads, .comments-container {
    background-color: #ecf0f3;
    border-radius: 15px;
    box-shadow: -5px -5px 10px #fff,
                5px 5px 8px rgba(0,0,0,0.1);
    padding: 0.5rem;
    font-family: 'Poppins', sans-serif;
    color: rgb(70,70,70);
  }
  
  .floating-composer:hover,
  .floating-threads:hover,
  .comments-container li:hover {
    box-shadow: inset 3px 3px 5px rgba(0,0,0,0.1),
                inset -3px -3px 6px #fff;
  }

  .comment-thread {
    @apply
      rounded-2xl
      bg-[#ecf0f3]
      text-gray-700
      transition-all
      mb-3
      shadow-[6px_6px_12px_rgba(0,0,0,0.15),-6px_-6px_12px_#ffffff];
  }

  .comment-thread--active {
    @apply
      bg-[#ecf0f3]
      text-gray-800
      shadow-[inset_4px_4px_8px_rgba(0,0,0,0.18),inset_-4px_-4px_8px_#ffffff];
  }
  
  

  .text-28-semibold {
    @apply text-[28px] font-semibold;
  }
  .text-10-regular {
    @apply text-[10px] font-normal;
  }

  .gradient-blue {
    @apply bg-gradient-to-t from-blue-400/80 to-blue-500/70;
  }
  .gradient-red {
    @apply bg-gradient-to-t from-red-500 to-red-400;
  }

  .shad-dialog {
    @apply w-full max-w-[400px] rounded-xl border-none bg-doc bg-cover px-5 py-7 shadow-xl sm:min-w-[500px] !important;
  }

  .shad-dialog button {
    @apply focus:ring-0 focus:ring-offset-0 focus-visible:border-none focus-visible:outline-none focus-visible:ring-transparent focus-visible:ring-offset-0 !important;
  }

  .shad-select {
    @apply w-fit border-none bg-transparent text-blue-100 !important;
  }

  .shad-select svg {
    @apply ml-1 mt-1;
  }

  .shad-select-item {
    @apply cursor-pointer bg-dark-200 text-blue-100 focus:bg-dark-300 hover:bg-dark-300 focus:text-blue-100 !important;
  }

  .shad-popover {
    @apply w-[460px] border-none bg-dark-200 shadow-lg !important;
  }

  .floating-toolbar {
    @apply flex w-full min-w-max items-center justify-center gap-2 rounded-lg p-1.5 shadow-xl;
  }

  .floating-toolbar-btn {
    @apply relative inline-flex size-8 items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 disabled:pointer-events-none disabled:opacity-50;
  }

  .toolbar-wrapper {
    @apply z-50 custom-scrollbar w-screen overflow-auto mt-5 pr-8 shadow-sm md:px-40 md:mt-16;
  }

  .editor-wrapper {
    @apply custom-scrollbar h-[calc(100vh-140px)] gap-5 overflow-auto lg:flex-row lg:items-start lg:justify-center pt-3;
  }

  .header {
  @apply
    sticky top-6 z-20
    w-[95%] max-w-[1100px]
    rounded-2xl
    bg-[#ecf0f3]
    px-6 min-h-[72px]
    flex items-center justify-between
    transition-all
    neu-out hover:neu-in;
  }
  

  .document-list-container {
    @apply flex flex-col items-center mb-10 w-full gap-10 px-5;
  }

  .document-list-title {
    @apply max-w-[730px] items-end flex w-full justify-between;
  }

  .document-list-item {
    @apply
      flex items-center justify-between gap-4
      rounded-2xl
      bg-[#ecf0f3]
      p-5
      transition-all duration-200
      shadow-[8px_8px_16px_rgba(0,0,0,0.12),_-8px_-8px_16px_#ffffff]
      hover:shadow-[inset_6px_6px_12px_rgba(0,0,0,0.12),_inset_-6px_-6px_12px_#ffffff];
  }

  .document-list-empty {
    @apply flex w-full max-w-[730px] flex-col items-center justify-center gap-5 rounded-lg bg-dark-200 px-10 py-8;
  }

  .document-title-input {
    @apply
      bg-[#ecf0f3]
      rounded-xl
      px-4 py-2
      text-gray-700
      neu-in
      focus:outline-none;
  }

  .document-title {
    @apply line-clamp-1 text-base font-semibold leading-[24px] sm:pl-0 sm:text-xl;
  }

  .view-only-tag {
    @apply rounded-md px-2 py-0.5 text-xs text-blue-100/50;
  }

  .collaborators-list {
    @apply hidden items-center justify-end -space-x-3 overflow-hidden sm:flex;
  }

  .share-input {
    @apply h-11 flex-1 border-none focus-visible:ring-0 focus-visible:ring-offset-0 !important;
  }

  .remove-btn {
    @apply
      flex items-center justify-center
      size-10 rounded-xl
      bg-[#ecf0f3]
      text-gray-500
      transition-all 
      shadow-[4px_4px_8px_rgba(0,0,0,0.12),_-4px_-4px_8px_#ffffff]
      hover:shadow-[inset_3px_3px_6px_rgba(0,0,0,0.12),_inset_-3px_-3px_6px_#ffffff]
      active:shadow-[inset_4px_4px_8px_rgba(0,0,0,0.16),_inset_-4px_-4px_8px_#ffffff];
  }

  .comments-container {
    @apply mb-10 space-y-4 lg:w-fit flex w-full flex-col items-center justify-center min-w-[340px];
  }

  .comment-composer {
    @apply
      w-full max-w-[800px]
      rounded-2xl
      bg-[#ecf0f3]
      p-4
      transition-all
      neu-in;
  }

  .comment-thread {
    @apply
    w-full max-w-[800px] 
    rounded-2xl
    bg-[#ecf0f3]
    p-4
    transition-all duration-200
    neu-out;
  }

  .comment-thread-active {
    background: #ecf0f3;
    border: none !important;
  
    box-shadow:
      10px 10px 20px rgba(0,0,0,0.14),
     -10px -10px 20px #ffffff !important;
  }

  .comment-thread [data-role="thread-replies"] {
    border-top: none !important;
  }
  .comment-thread input,
  .comment-thread textarea {
  @apply
    rounded-xl
    bg-[#ecf0f3]
    text-gray-700
    shadow-[inset_2px_2px_5px_rgba(0,0,0,0.15),inset_-2px_-2px_5px_#ffffff]
    focus:outline-none;
}

  .loader {
    @apply flex size-full h-screen items-center justify-center gap-3 text-white;
  }

  /* ======================== Auth Pages */
  .auth-page {
    @apply flex h-screen w-full flex-col items-center justify-center gap-10;
  }

  /* ======================== Home Page */
  .home-container {
    @apply relative flex min-h-screen w-full flex-col items-center gap-10 bg-[#ecf0f3];
  }

  .document-ul {
    @apply flex w-full max-w-[730px] flex-col gap-5;
  }

  /* ======================== CollaborativeRoom */
  .collaborative-room {
    @apply flex size-full max-h-screen flex-1 flex-col items-center overflow-hidden;
  }
}

/* ======================== Clerk Override */
.cl-avatarBox {
  width: 36px;
  height: 36px;
}

.cl-userButtonTrigger {
  height: fit-content !important;
}

.cl-cardBox,
.cl-signIn-start,
.cl-signUp-start,
.cl-footer {
  background: #060d18;
  box-shadow: none;
  padding: 20px;
}

.cl-socialButtonsBlockButton,
.cl-socialButtonsBlockButton:hover {
  height: 40px;
  background-color: #3371ff;
  color: #fff;
}

.cl-internal-2gzuzc {
  filter: brightness(1000%);
}

.cl-logoBox {
  height: 52px;
}

/* ======================== Liveblocks Override */
.lb-root {
  --lb-accent-subtle: #0b1527;
  --lb-radius: 0px;
  --lb-dynamic-background: #1b2840;
  
}

.lb-comment,
.lb-comment-body,
.lb-thread-comments,
.lb-thread,
.lb-comment-author,
.lb-comment-content {
  color: #2b2b2b !important;
}

.lb-thread-reply-composer {
  background: #ecf0f3 !important;
  border-radius: 14px;
  padding: 12px;

  box-shadow:
    inset 6px 6px 12px rgba(0,0,0,0.14),
    inset -6px -6px 12px #ffffff !important;
}

.lb-thread-replies,
.lb-thread-reply-composer {
  border-top: none !important;
}
.lb-thread-replies::before {
  display: none !important;
}

.lb-comment,
.lb-thread-comments,
.lb-composer {
  background: #ecf0f3;
  border-radius: 16px;
  box-shadow:
    8px 8px 16px rgba(0,0,0,0.12),
   -8px -8px 16px #ffffff;
}

.lb-thread,
.lb-comment-thread {
  background: #ecf0f3 !important;
  border: none !important;
  outline: none !important;
  box-shadow: none;
}

.lb-button {
  background: #ecf0f3 !important;
  border-radius: 12px;
  color: #2b2b2b;

  box-shadow:
    6px 6px 12px rgba(0,0,0,0.12),
   -6px -6px 12px #ffffff;

  transition: all 0.2s ease;
}

.lb-button:hover {
  box-shadow:
    inset 4px 4px 8px rgba(0,0,0,0.12),
    inset -4px -4px 8px #ffffff;
}

.lb-button:active {
  box-shadow:
    inset 6px 6px 12px rgba(0,0,0,0.16),
    inset -6px -6px 12px #ffffff;
}

.lb-button:where([data-variant="primary"]) {
  background-color: #161e30;
  color: #b4c6ee;
  padding: 8px;
}

.lb-button:where(
    [data-variant="default"]:not(
        :is(
            :enabled:hover,
            :enabled:focus-visible,
            [aria-expanded="true"],
            [aria-selected="true"]
          )
      )
  ) {
  color: #b4c6ee;
}

.lb-button:where(
    :enabled:hover,
    :enabled:focus-visible,
    [aria-expanded="true"],
    [aria-selected="true"]
  ) {
  --lb-button-background: #19253c;

  color: #b4c6ee;
}

.lb-inbox-notification-list-item:where(:not(:last-of-type)) {
  border-bottom: none;
}

.lb-comment-body,
.lb-dropdown-item,
.lb-dropdown-item-icon {
  color: #fff;
}

.lb-composer-editor {
  background: transparent;
  border-radius: 12px;
  color: #2b2b2b;
  font-size: 14px;
}

.lb-composer-action {
  padding: 8px;
}

.lb-comment-content {
  margin-top: 16px;
  padding: 12px;
  border-radius: 4px;
  font-size: 14px;
}

.lb-comment-date,
.lb-lexical-mention-suggestion-user,
.lb-inbox-notification-date,
.lb-comment-author {
  color: #b4c6ee;
}

.lb-composer-suggestions-list-item {
  background: #ecf0f3;
  border-radius: 10px;
  margin-bottom: 4px;

  box-shadow:
    4px 4px 8px rgba(0,0,0,0.12),
   -4px -4px 8px #ffffff;
}

.data-liveblocks-portal {
  color: #b4c6ee !important;
}

/* .lb-root:where(:not(.lb-root .lb-root)) {
  --lb-dynamic-background: #1b2840;
  color: #fff;
} */

.lb-composer-editor :where([data-placeholder]) {
  color: #d3dae9;
  font-size: 14px;
}

.lb-composer-editor:focus-within {
  box-shadow:
    inset 6px 6px 12px rgba(0,0,0,0.16),
    inset -6px -6px 12px #ffffff;
}

.lb-lexical-floating-threads-thread:where([data-resolved]) {
  opacity: 40%;
}

.lb-elevation {
  background: #0f1c34;
}